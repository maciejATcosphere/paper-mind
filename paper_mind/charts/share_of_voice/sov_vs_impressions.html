<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">

        <style>
            body {
                font: 10px sans-serif;
            }
            .axis path,
            .axis line {
                fill: none;
                stroke: #000;
                shape-rendering: crispEdges;
            }
            #series0 {
                fill: steelblue;
                fill-opacity: 0.7;
            }
            #series1 {
                fill: red;
                fill-opacity: 0.5;
            }
            </style>
        <script src="http://d3js.org/d3.v3.js"></script>
        <script src='data/sov_ma5.js'></script>
        <script src='data/vom_ma5.js'></script>
        <script src='data/fb_total_impressions_ma5.js'></script>
        <script src='data/fb_organic_impressions_ma5.js'></script>
        <script src='data/tw_total_impressions_ma5.js'></script>
        <script src='data/tw_organic_impressions_ma5.js'></script>
    </head>

    <body>
        <div id="chart-0"></div>
        <div id="chart-1"></div>
        <div id="chart-2"></div>
        <div id="chart-3"></div>
        <div id="chart-4"></div>
        <div id="chart-5"></div>
        <div id="chart-6"></div>
        <div id="chart-7"></div>
        <script src="basis.js"></script>
        <script>
            g_parseDate = d3.time.format("%d-%b-%y").parse;
            function parse_data(data) {
                data.forEach(function(d) {
                    d.x = g_parseDate(d.x);
                    d.y = +d.y;
                });
            }

            parse_data(window.sov_ma5);
            parse_data(window.vom_ma5);
            parse_data(window.fb_total_impressions_ma5);
            parse_data(window.fb_organic_impressions_ma5);
            parse_data(window.tw_total_impressions_ma5);
            parse_data(window.tw_organic_impressions_ma5);

            // facebook total impressions
            create_stage(
                'chart-0',
                window.sov_ma5,
                window.fb_total_impressions_ma5,
                'Share of Voice',
                'Facebook Total Impressions'
            );
            create_area(window.sov_ma5, window.fb_total_impressions_ma5);

            create_stage(
                'chart-1',
                window.vom_ma5,
                window.fb_total_impressions_ma5,
                'Volume of Mentions',
                'Facebook Total Impressions'
            );
            create_area(window.vom_ma5, window.fb_total_impressions_ma5);

            // facebook organic impressions
            create_stage(
                'chart-2',
                window.sov_ma5,
                window.fb_organic_impressions_ma5,
                'Share of Voice',
                'Facebook Organic Impressions'
            );
            create_area(window.sov_ma5, window.fb_organic_impressions_ma5);

            create_stage(
                'chart-3',
                window.vom_ma5,
                window.fb_organic_impressions_ma5,
                'Volume of Mentions',
                'Facebook Organic Impressions'
            );
            create_area(window.vom_ma5, window.fb_organic_impressions_ma5);

            // twitter total impressions
            create_stage(
                'chart-4',
                window.sov_ma5,
                window.tw_total_impressions_ma5,
                'Share of Voice',
                'Twitter Total Impressions'
            );
            create_area(window.sov_ma5, window.tw_total_impressions_ma5);

            create_stage(
                'chart-5',
                window.vom_ma5,
                window.tw_total_impressions_ma5,
                'Volume of Mentions',
                'Twitter Total Impressions'
            );
            create_area(window.vom_ma5, window.tw_total_impressions_ma5);

            // twitter organic impressions
            create_stage(
                'chart-6',
                window.sov_ma5,
                window.tw_organic_impressions_ma5,
                'Share of Voice',
                'Twitter Organic Impressions'
            );
            create_area(window.sov_ma5, window.tw_organic_impressions_ma5);

            create_stage(
                'chart-7',
                window.vom_ma5,
                window.tw_organic_impressions_ma5,
                'Volume of Mentions',
                'Twitter Organic Impressions'
            );
            create_area(window.vom_ma5, window.tw_organic_impressions_ma5);
        </script>
    </body>
</html>